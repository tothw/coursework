\documentclass[letterpaper,12pt,oneside,onecolumn]{article}
\usepackage[margin=1in, bottom=1in, top=1in]{geometry} %1 inch margins
\usepackage{amsmath, amssymb, amstext}
\usepackage{fancyhdr}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{mathtools}

\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

%Macros
\newcommand{\A}{\mathbb{A}} \newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}} \newcommand{\F}{\mathbb{F}}
\newcommand{\N}{\mathbb{N}} \newcommand{\R}{\mathbb{R}}
\newcommand{\T}{\mathbb{T}} \newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
 
 
\newcommand{\cA}{\mathcal{A}} \newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}} \newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}} \newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}} \newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}} \newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}} \newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}} \newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}} \newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}} \newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}} \newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}} \newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}} \newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}} \newcommand{\cZ}{\mathcal{Z}}

%Page style
\pagestyle{fancy}

\listfiles

\raggedbottom

\rhead{William Justin Toth 642 A5} %CHANGE n to ASSIGNMENT NUMBER ijk TO COURSE CODE
\renewcommand{\headrulewidth}{1pt} %heading underlined
%\renewcommand{\baselinestretch}{1.2} % 1.2 line spacing for legibility (optional)

\begin{document}
\section*{1}
\subsection*{a}
\paragraph{}
Let $k \in \Z$ such that $k \geq 0$. Choose $n = R(k)$. By Ramsey's Theorem $n$ exists. Let $T$ be a tournament on $n$ vertices. Number the vertices arbitrarily. That is write $V(T) = \{1, \dots, n\}$. Color the edges of $T$ as follows: for every $(i,j) \in E(T)$, if $i<j$ color $(i,j)$ red and otherwise (that is, if $i>j$) color $(i,j)$ blue. Now by the definition of $R(k)$, $T$ contains either a red $K_k$ or blue $K_k$.
\paragraph{}
Suppose that $T$ contains a red $K_k$. Let $T'$ be directed subgraph of $T$ induced by the red $K_k$. We claim that $T'$ is an acyclic tournament. Clearly, $T'$ is an orientation of $K_k$ so it remains to show $T'$ is acyclic. Suppose for a contradiction that $T'$ has a directed cycle $C$. Let $(i,j) \in E(C)$. Since $(i,j)$ is red, $i < j$. Since $(i,j) \in E(C)$, $P = C -(i,j)$ is a directed $j-i$ path.
\paragraph{Claim 1.1}
For all $i,j \in V(T')$, if $P$ be a directed monochromatic red $j-i$ path then $j<i$.
\paragraph{Proof of Claim 1.1}
Proceed by induction on $|E(P)|$. If $|E(P)| = 1$ then $(j,i)$ is a red arc. So $j<i$. Suppose for induction that for all directed monochromatic red $j-l$ paths $P'$ if $1\leq |E(P')| < |E(P)|$ then $j<l$. Let $(l,i) \in E(P)$. Then $l \neq j$ since $1 < |E(P)|$. Since $(l,i)$ is a red arc, $l<i$. Now $jPl$ is a directed monochromatic red $j-l$ path such that $1\leq |E(jPl)| < |E(P)|$, so by the induction hypothesis $j<l$. Thus by transitivity $j < i$. Therefore by the principle of mathematical induction for all $i,j \in V(T')$, if $P$ be a directed monochromatic red $j-i$ path then $j<i$. $\blacksquare$
\paragraph{}
Now $P$ is a directed monchromatic red $j-i$ path, so by Claim $1.1$, $j<i$. But then we have $i<j$ and $j<i$. That is, by transitivity $i<i$, a contradiction. Thus $T'$ has no directed cycle. Therefore $T'$ is acyclic.
\paragraph{}
Suppose that $T$ contains a blue $K_k$. This case is symmetric to the red case, but it is included for completeness. Let $T'$ be directed subgraph of $T$ induced by the blue $K_k$. We claim that $T'$ is an acyclic tournament. Clearly, $T'$ is an orientation of $K_k$ so it remains to show $T'$ is acyclic. Suppose for a contradiction that $T'$ has a directed cycle $C$. Let $(i,j) \in E(C)$. Since $(i,j)$ is blue, $i > j$. Since $(i,j) \in E(C)$, $P = C -(i,j)$ is a directed $j-i$ path.
\paragraph{Claim 1.2}
For all $i,j \in V(T')$, if $P$ be a directed monochromatic blue $j-i$ path then $j>i$.
\paragraph{Proof of Claim 1.1}
Proceed by induction on $|E(P)|$. If $|E(P)| = 1$ then $(j,i)$ is a blue arc. So $j>i$. Suppose for induction that for all directed monochromatic blue $j-l$ paths $P'$ if $1\leq |E(P')| < |E(P)|$ then $j>l$. Let $(l,i) \in E(P)$. Then $l \neq j$ since $1 < |E(P)|$. Since $(l,i)$ is a blue arc, $l>i$. Now $jPl$ is a directed monochromatic blue $j-l$ path such that $1\leq |E(jPl)| < |E(P)|$, so by the induction hypothesis $j>l$. Thus by transitivity $j > i$. Therefore by the principle of mathematical induction for all $i,j \in V(T')$, if $P$ be a directed monochromatic blue $j-i$ path then $j>i$. $\blacksquare$
\paragraph{}
Now $P$ is a directed monchromatic blue $j-i$ path, so by Claim $1.2$, $j>i$. But then we have $i>j$ and $j>i$. That is, by transitivity $i>i$, a contradiction. Thus $T'$ has no directed cycle. Therefore $T'$ is acyclic. Thus for all nonnegative integers $k$ there is an integer $n$ such that every tournament on $n$ vertices contains an acyclic tournament on $k$ vertices. $\blacksquare$
\subsection*{b}
\paragraph{}
We proceed by induction on $k$ to show that for all $k\in \Z$ such that $k\geq 0$, if $n = \ceil{2^{k-1}}$ and $T$ is a tournament on $n$ vertices then $T$ contains an acyclic tournament on $k$ vertices. If $k=0$ then $n = \ceil{2^{-1}} = 0$ and the result holds trivially. If $k=1$ then $n = \ceil{2^0} =1$. Any tournament on one vertex is acyclic so again the result holds trivially. 
\paragraph{}
Now let $k \in \Z$ and suppose for induction that for all $j \in \Z$ such that $0 \leq j < k$, if $n = \ceil{2^{j-1}}$ and $T$ is a tournament on $n$ vertices then $T$ contains an acyclic tournament on $j$ vertices. Let $T$ be a tournament on $n=\ceil{2^{k-1}} = 2^{k-1}$ vertices. Let $v \in V(T)$. Let $N^+(v) = \{(v,u):u \in V(T)\}$ and let $N^-(v) = \{(u,v): u\in V(T)\}$. Let $$N^*(v) = argmax_{N \in \{N^+(v), N^-(v)\}}\{|N|\}.$$
Then $\ceil{\frac{n}{2}} \leq |N^*(v)| \leq \ceil{n}-1$. That is, $\ceil{2^{k-2}} \leq |N^*(v)| \leq \ceil{2^{k-1}} - 1$. Let $N$ be a size $\ceil{2^{k-2}}$ subset of $N^*(v)$. Then strictly either all arcs from $v$ are forward to vertices in $N$ or all arcs from $v$ are backward to vertices in $N$. Let $T' = T[N]$. Then $0\leq |V(T')| = \ceil{2^{k-2}} < n$ and so by the induction hypothesis $T'$ contains an acyclic tournament on $k-1$ vertices. Let $T^*$ be such a tournament. Then $T^* + v$ is a tournament on $k$ vertices.
\paragraph{}
Suppose for a contradiction that $T^* + v$ contains a directed cycle $C$. Since $T^*$ is acyclic, $v \in V(C)$. Consider the arcs $(u,v), (v,w) \in E(C)$ for $u,w \in V(T^*) = N$. Such arcs exists since $C$ is a directed cycle containing $v$. But then there is a forward arc from $v$ to a vertex in $N$ and a backward arc from $v$ to a vertex in $N$, a contradiction since all arcs from $v$ to vertices of $N$ were chosen to have the same direction. Therefore $T^* + v$ is an acyclic tournament on $k$ vertices. Thus by the principle of mathematical induction for all $k\in \Z$ such that $k\geq 0$, if $n = \ceil{2^{k-1}}$ and $T$ is a tournament on $n$ vertices then $T$ contains an acyclic tournament on $k$ vertices. Therefore for all nonnegative integers $k$ there is an integer $n$ such that every tournament on $n$ vertices contains an acyclic tournament on $k$ vertices. $\blacksquare$

\section*{2}
\paragraph{Lemma 1 (from class)}
If $G$ is a graph, then $\alpha(G) \geq \sum_{v\in V(G)} \frac{1}{d(v) +1}$.
\subsection*{a}
\paragraph{}
Suppose that $G$ is a disjoint union of cliques. Let $k = \kappa(G)$. Let $G_1,\dots, G_k$ denote the connected components of $G$. Since $G$ is a disjoint union of cliques, $\alpha(G) = k$. This follows from observing that each vertex is only independent of vertices in other connected components, and therefore an independent set contains at most one vertex from each connected component (that is, $\alpha(G) \leq k$). This bound is attained by choosing one vertex from each connected component and hence $\alpha(G) = k$. Further we have that:
\begin{align*}
\sum_{v \in V(G)} \frac{1}{d(v) +1} &= \sum_{i=1}^k \sum_{v \in V(G_i)} \frac{1}{d(v) + 1} &\text{since $G_i$ are disjoint}\\
&= \sum_{i=1}^k \sum_{v \in V(G_i)} \frac{1}{(|V(G_i)| -1) + 1} &\text{since $G_i$ is a clique} \\
&= \sum_{i=1}^k \sum_{v \in V(G_i)} \frac{1}{|V(G_i)|} \\
&= \sum_{i=1}^k \frac{|V(G_i)|}{|V(G_i)|} \\
&= \sum_{i=1}^k 1 \\
&= k \\
&=\alpha(G). &\text{since $\alpha(G) = k$ by preceding discussion}
\end{align*}
Therefore if $G$ is a disjoint union of cliques then $\alpha(G) = \sum_{v \in V(G)} \frac{1}{d(v) +1}$.
\paragraph{}
Now suppose to the contrary that $G$ is not a disjoint union of cliques. Then there exists a triple of vertices $x, y, z \in V(G)$ such that $xy \in E(G)$ and $yz \in E(G)$ but $xz \not\in E(G)$. Let $\pi: V \backslash \{x,y,z\} \rightarrow \{4, \dots, n\}$ be a random ordering of $V\backslash \{x,y,z\}$.  Let $$X = \{v \in V(G)\backslash \{x,y,z\}:\text{ for all }w\in V(G)\backslash \{x,y,z\}\text{ if }vw \in E(G)\text{ then }\pi(v) < \pi(w)\}.$$ Then by calculation in proof of Lemma $1$, $E[|X|] \geq \sum_{v\in V(G)\backslash \{x,y,z\}}\frac{1}{d(v)+1}$
\paragraph{}
Let $\pi_1$ be an ordering of $V$ given by:
$$
\pi_1(v) = \begin{cases}
1, &\text{if $v=x$}\\
2, &\text{if $v=y$}\\
3, &\text{if $v=z$}\\
\pi(v), &\text{otherwise}.
\end{cases}
$$
Let $\pi_2$ be an ordering of $V$ given by:
$$
\pi_2(v) = \begin{cases}
1, &\text{if $v=z$}\\
2, &\text{if $v=x$}\\
3, &\text{if $v=y$}\\
\pi(v), &\text{otherwise}.
\end{cases}
$$
For all possible orderings of $V$, $\pi_i$, let $$X_i = \{v \in V(G):\text{ for all }w\in V(G)\text{ if }vw \in E(G)\text{ then }\pi_i(v) < \pi_i(w)\}.$$ Then $x \in X_1$ as it is positioned first under $\pi_1$, $y \not\in X_1$ as $y$ is adjacent to $x$, and $z \not\in X_1$ as $z$ is adjacent to $y$.  Further $z \in X_2$ as it is positioned first under $\pi_2$, $x \in X_2$ as $x$ is not adjacent to $z$, and $y \not\in X_2$ as $y$ is adjacent to $z$. Now we have that $|X_1| = 1 + |X|$ and $|X_2| = 1 + |X_1|$. Then $|X_2| > |X_1|$.
\paragraph{}
Now suppose for a contradiction that for all orderings of $V$, $\pi_i$, that $|X_i| \leq \sum_{v \in V(G)} \frac{1}{d(v)+1}$. By our calculations in the proof of Lemma $1$ in class,  $E[|X_i|] \geq \sum_{v \in V(G)} \frac{1}{d(v)+1}$. But we have that $|X_1| < |X_2| \leq \sum_{v \in V(G)} \frac{1}{d(v)+1}$, and thus
\begin{align*}
E[|X_i|] &= \sum_{\pi_i} Pr(\pi_i) |X_i| \\
&= Pr(\pi_1)|X_1| +  \sum_{\pi_i: i\neq 1} Pr(\pi_i)|X_i| \\
&\leq Pr(\pi_1)|X_1| + \sum_{\pi_i:i\neq 1} Pr(\pi_i)(\sum_{v \in V(G)} \frac{1}{d(v)+1}) \\
&< Pr(\pi_1)(\sum_{v \in V(G)} \frac{1}{d(v)+1}) + \sum_{\pi_i:i\neq 1} Pr(\pi_i)(\sum_{v \in V(G)} \frac{1}{d(v)+1})  \\
&= \sum_{v \in V(G)} \frac{1}{d(v)+1}.
\end{align*}
Therefore $E[|X_i|] <  \sum_{v \in V(G)} \frac{1}{d(v)+1}$. This contradicts that $E[|X_i|] \geq \sum_{v \in V(G)} \frac{1}{d(v)+1}$. Thus there exists an ordering of $V$, $\pi_i$, for which $|X_i| > \sum_{v \in V(G)} \frac{1}{d(v)+1}$. As $|X_i|$ is an independent set this implies that $\alpha(G) > \sum_{v \in V(G)} \frac{1}{d(v)+1}$. Therefore if $G$ is not a disjoint union of cliques then $\alpha(G) > \sum_{v \in V(G)} \frac{1}{d(v)+1}$. So by contraposition if $\alpha(G) = \sum_{v\in V(G)} \frac{1}{d(v) + 1}$ then $G$ is a disjoint union of cliques. Therefore $\alpha(G) = \sum_{v\in V(G)} \frac{1}{d(v) + 1}$ if and only if $G$ is a disjoint union of cliques. $\blacksquare$
\subsection*{b}
\paragraph{Lemma 2.1}
If $G$ is a graph on $n$ vertices then $\omega(G) \geq \sum_{v \in V(G)} \frac{1}{n-d(v)}$.
\paragraph{Proof of Lemma 2.1}
Suppose $G$ is a graph on $n$ vertices. Let $\bar{d}(v)$ denote the degree of $v$ in $\bar{G}$ for all $v \in V(G)$. Note that $\bar{d}(v) = n-1-d(v)$ for all $v \in V(G)$ by the definition of $\bar{G}$. Then we have that:
\begin{align*}
\omega(G) &= \alpha(\bar{G}) \\
&\geq \sum_{v \in V(\bar{G})} \frac{1}{\bar{d}(v) + 1} &\text{By Lemma $1$}\\
&= \sum_{v \in V(G)} \frac{1}{\bar{d}(v) + 1} &\text{Since $V(G) = V(\bar{G})$}\\
&= \sum_{v \in V(G)} \frac{1}{n - 1 - d(v) + 1} &\text{Since $\bar{d}(v) = n-1-d(v)$}\\
&=\sum_{v \in V(G)} \frac{1}{n-d(v)}.
\end{align*}
Thus $\omega(G) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$ as desired. $\blacksquare$
\paragraph{Lemma 2.2}
If $G$ is a graph on $n$ vertices then $\omega(G) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$ if and only if $G$ is $\omega(G)$-partite.
\paragraph{Proof of Lemma 2.2}
Suppose $G$ is a graph on $n$ vertices. Then $\omega(G) = \alpha(\bar{G})$ so $\omega(G) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$ if and only if $\alpha(\bar{G}) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$. But $\alpha(\bar{G}) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$ if and only if $\alpha(\bar{G}) = \sum_{v \in V(G)} \frac{1}{\bar{d}(v) + 1}$. Then by $2a$, $\alpha(\bar{G}) = \sum_{v \in V(G)} \frac{1}{\bar{d}(v) + 1}$  if and only if $\bar{G}$ is a disjoint union of $\alpha(\bar{G})$ cliques. Now $\bar{G}$ is a disjoint union of $\alpha(\bar{G})$ cliques if and only if $G$ is $\alpha(\bar{G})$-partite. Since $\omega(G) = \alpha(\bar{G})$, $G$ is $\alpha(\bar{G})$-partite if and only if $G$ is $\omega(G)$-partite. Therefore $\omega(G) = \sum_{v \in V(G)} \frac{1}{n-d(v)}$ if and only if $G$ is $\omega(G)$-partite. $\blacksquare$
\paragraph{Lemma 2.3}
Over all graphs $G$ such that $|V(G)| = n$ and $|E(G)|=m$, the sum $\sum_{v \in V(G)} \frac{1}{n-d(v)}$ is minimized when for all $v_1, v_2 \in V(G)$, $|d(v_1) - d(v_2)| \leq 1$.
\paragraph{Proof of Lemma 2.3}
Let $G$ be a graph such that $|V(G)| = n$ and $|E(G)|=m$. Suppose there exists $v_1, v_2 \in V(G)$, $|d(v_1) - d(v_2)| > 1$. We may assume without loss of generality (up to relabelling) that $d(v_1) - d(v_2) > 1$. Suppose for a contradiction that $\sum_{v \in V(G)} \frac{1}{n-d(v)}$ is minimal. By the pigeonhole principle, there exists a vertex $v_3 \in V(G)$ such that $v_1v_3 \in E(G)$ but $v_2v_3 \not\in E(G)$. Consider the graph $G' = G - v_1v_3 + v_2v_3$ (that is $G'$ is $G$ with edge $v_1v_3$ removed and edge $v_2v_3$ added). Let $d'$ denote the degree function for $G'$. Then for all $v \not\in \{v_1,v_2,v_3\}$, $d'(v) = d(v)$ as none of their edges were changed. Now $d'(v_3) = d(v_3) - 1 + 1 = d(v_3)$ (subtracting one for loss of $v_1v_3$ and adding one for addition of $v_2v_3$), and $d'(v_1) = d(v_1) - 1$ (as $v_1v_3$ was removed), and $d'(v_2) = d(v_2) + 1$ (as $v_2v_3$ was added). Then we have that:
\begin{align*}
\sum_{v \in V(G')} \frac{1}{n - d'(v)} &= \frac{1}{n - d'(v_1)} + \frac{1}{n-d'(v_2)} + \sum_{v\in V(G')\backslash \{v_1,v_2\}} \frac{1}{n - d'(v)} \\
&=  \frac{1}{n - d(v_1) + 1} + \frac{1}{n-d(v_2) - 1} + \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&= \frac{n - d(v_2) -1 + n - d(v_1) + 1}{(n - d(v_1) + 1)(n-d(v_2) - 1} +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&= \frac{n - d(v_1) + n - d(v_2)}{(n-d(v_1))(n-d(v_2)) - n + d(v_1) + n - d(v_2) - 1} +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&=\frac{n - d(v_1) + n - d(v_2)}{(n-d(v_1))(n-d(v_2)) + d(v_1) - d(v_2) - 1} +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&<\frac{n - d(v_1) + n - d(v_2)}{(n-d(v_1))(n-d(v_2)) + 1 - 1} +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\&(\text{since $d(v_1) - d(v_2) > 1$})\\
&=\frac{n - d(v_1) + n - d(v_2)}{(n-d(v_1))(n-d(v_2))} +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&=\frac{1}{n- d(v_1)} + \frac{1}{n-d(v_2)}  +  \sum_{v\in V(G)\backslash \{v_1,v_2\}} \frac{1}{n - d(v)} \\
&=\sum_{v\in V(G)} \frac{1}{n - d(v)}.
\end{align*}
Thus $\sum_{v \in V(G')} \frac{1}{n - d'(v)} < \sum_{v\in V(G)} \frac{1}{n - d(v)}$ contradicting the minimality of $\sum_{v\in V(G)} \frac{1}{n - d(v)}$ as $G$ and $G'$ are both graphs on $n$ vertices with $m$ edges. Therefore $\sum_{v\in V(G)} \frac{1}{n - d(v)}$ is minimized when $|d(v_1) - d(v_2)| \leq 1$. $\blacksquare$
\paragraph{}
Let $G$ be an extremal graph on $n$ vertices such that $G$ is $K_r$ free. We may assume that $n \geq r$ as otherwise the problem is trivial (simply $G = K_n = T_{r-1}(n)$). We will show that $G = T_{r-1}(n)$ (the Turan graph).
\paragraph{}
Since $G$ is $K_r$ free, $\omega(G) \leq r-1$. Suppose for a contradiction that $\omega(G) = w \leq r-2$. Then consider the $K_w$ clique in $G$, $H$. There exists a vertex $v \in V(G)$ such that $v \not\in V(H)$ (as otherwise $H=G$ and thus $w =n < r-1$ which contradicts that $n \geq r$), and there exists $h \in V(H)$, $vh \not\in E(G)$ (as otherwise there is $K_{w+1}$ clique in $G$, which contradicts that $\omega(G) = w$). But then the graph $G' = G + vh$ is such that $\omega(G') \leq w+1$. Since $w + 1 \leq r-1$, $G'$ is $K_r$ free. Now $G'$ is a graph on $n$ vertices, $G'$ is $K_r$ free, and $|E(G')| = |E(G)| + 1 > |E(G)|$ contradicting that $G$ is extremal. Thus $\omega(G) >r-2$, that is $\omega(G) \geq r-1$. Therefore $\omega(G) = r-1$.
\paragraph{}
Suppose there exists $v_1, v_2 \in V(G)$, such that $|d(v_1) - d(v_2)| > 1$. We may assume without loss of generality that $d(v_1) - d(v_2) > 1$. Consider the graph $G'$, obtained from $G$ by duplicating the vertex $v_1$ to create $v_1'$ (recall duplicating $v_1$ means creating a vertex adjacent to all neighbours of $v_1$), and removing $v_2$. That is, $G' = G + v_1' - v_2$. Let $d'$ be the degree function for $G'$. Then $d'(v_1') = d(v_1)$ and $d'(v_2) \leq d(v_2) + 1$ (the one is added for $v_1'$ in the case that $v_1$ is adjacent to $v_2$). Now $G'$ is a graph on $n$ vertices, and $G'$ is $K_r$ free by a proposition from the lecture notes which states that ``If $G$ is $K_r$-free and $v\in V(G)$ then the graph obtained by duplicating $v$ is $K_r$-free". Thus we have that:
\begin{align*}
|E(G')| &= |E(G)| + d'(v_1) - d'(v_2) \\
&\geq |E(G)| + d(v_1) - d(v_2) - 1 \\
&> |E(G)| + d(v_2) + 1 - d(v_2) - 1 &\text{since $d(v_1) > d(v_2) +1$}\\
&= |E(G)|.
\end{align*}
So $|E(G')| > |E(G)|$ contradicting that $G$ is extremal on $n$ vertices. Therefore, for all $v_1, v_2 \in V(G)$, $|d(v_1) - d(v_2)| \leq 1$.
\paragraph{}
Let $\Delta$ denote the max degree among vertices in $V(G)$. Then, since $|d(v_1) - d(v_2)| \leq 1$ for all $v_1, v_2 \in V(G)$, for all $v \in V(G)$ $\Delta - d(v) \leq 1$. Thus for all $v \in V(G)$, $d(v) = \Delta$ or $d(v) = \Delta - 1$. Let $V_1 = \{ v \in V(G) : d(v) = \Delta\}$, and let $V_2 = \{ v \in V(G) : d(v) = \Delta - 1\}$. Notice that $V_1 \cup V_2 = V$ and $V_1 \cap V_2 = \emptyset$. Now we have that:
\begin{align}
\sum_{v \in V(G)} \frac{1}{n-d(v)} &= \sum_{v \in V_1(G)} \frac{1}{n-\Delta} + \sum_{v \in V_2(G)} \frac{1}{n-\Delta + 1} \nonumber \\
&= \frac{|V_1|}{n-\Delta} + \frac{|V_2|}{n - \Delta + 1} \nonumber \\
&> \frac{|V_1|}{n - \Delta + 1} + \frac{|V_2|}{n-\Delta + 1} \nonumber \\
&= \frac{n}{n-\Delta + 1}.
\end{align}
Suppose for a contradiction that $|E(G)| > |E(T_{r-1}(n)|$. Then by handshaking, $\sum_{v \in V(G)} d(v) > \sum_{v \in V(T_{r-1}(n))} d(v)$. Since $d(v) < \Delta$ for $v \in V(G)$ and $d(v) = n\floor{\frac{r-2}{r-1}}$ for $v \in V(T_{r-1}(n))$, this implies that $n\Delta > n^2\frac{r-2}{r-1}$, and hence $\Delta \geq n\frac{r-2}{r-1} + 1$. Rewriting this inequality we obtain that $\frac{1}{n-\Delta} \geq \frac{1}{n - n\frac{r-2}{r-1} -1}$. Thus by $(1)$ we have that:
\begin{align*}
\sum_{v \in V(G)} \frac{1}{n-d(v)} &> \frac{n}{n - n\frac{r-2}{r-1} - 1 + 1} \\
&= \frac{n}{n\frac{1}{r-1}} \\
&= r-1.
\end{align*}
Therefore $\sum_{v \in VG)} \frac{1}{n-d(v)} > r-1$, contradicting that $r-1 = \omega(G) \geq \sum_{v \in VG)} \frac{1}{n-d(v)}$. Thus $|E(G)| \leq |E(T_{r-1}(n)|$. But since $G$ is extremal this implies that $|E(G)|  = |E(T_{r-1}(n)|$.
\paragraph{}
Now $T_{r-1}(n)$ and $G$ are both graphs on $n$ vertices with an equivalent number of edges. Let $d_T(v)$ denote the degree of $v$ in $T_{r-1}(n)$. Then since for all $v_1, v_2 \in V(T_{r-1}(n))$, $|d(v_1) - d(v_2)| \leq 1$, by Lemma $2.3$:
$$
\sum_{v \in V(T_{r-1}(n))}\frac{1}{n - d_T(v)} \leq \sum_{v \in V(G)} \frac{1}{n-d(v)}.
$$
But since $T_{r-1}(n)$ is $r-1$-partite, by Lemma $2.2$ $\sum_{v \in V(T_{r-1}(n))}\frac{1}{n - d_T(v)} = r-1$, and hence $r-1 \leq \sum_{v \in V(G)} \frac{1}{n-d(v)}$. Also $\sum_{v \in V(G)} \frac{1}{n-d(v)} \leq r-1$ and thus $r-1 = \sum_{v \in V(G)} \frac{1}{n-d(v)}$. Therefore by Lemma $2.2$, $G$ is $r-1$-partite. By Proposition from the notes $T_{r-1}(n)$ is the unique graph with the most number of edges among $K_r$-free $r-1$-partite graphs, and therefore $G = T_{r-1}(n)$. $\blacksquare$

\section*{3}
\paragraph{}
Let $\epsilon > 0$. For the $5$-cycle graph, by the graph removal lemma, there exists a $\delta > 0$ such that for every $n$ vertex graph $G$ either: 
\begin{align}
&G \text{ contains at least } \delta n^5 \text{ copies of the $5$-cycle} \\
\text{or }&\text{there exists $F \subseteq E(G)$ such that $|F| \leq \epsilon n^2$, and $G - F$ is $5$-cycle free}.
\end{align}
\paragraph{}
Choose $n_0 = max\{1, $. Let $A \subseteq \Z_5^n$, such that $n \geq n_0$ and $|A| \geq \epsilon 5^n$. Let $G$ be a graph constructed as follows:
\begin{enumerate}
\item $V(G) = V_1 \cup V_2 \cup V_3 \cup V_4 \cup V_5$, where $V_1, \dots, V_5$ are copies of $\Z_5^n$
\item For $u \in V_1$, $v \in V_2$, $uv \in E(G)$ if and only if $v - u \in A$
\item For $u \in V_2$, $v \in V_3$, $uv \in E(G)$ if and only if $v - u \in A$
\item For $u \in V_3$, $v \in V_4$, $uv \in E(G)$ if and only if $v - u \in A$
\item For $u \in V_4$, $v \in V_5$, $uv \in E(G)$ if and only if $v - u \in A$
\item For $u \in V_5$, $v \in V_1$, $uv \in E(G)$ if and only if $v - u \in A$.
\end{enumerate}
\paragraph{}
For the graph $H$ where $H$ is the $5$-cycle, by the graph removal lemma, there exists a $\delta$ such that
\paragraph{}
For $i = 1, \dots, 5$ let $v_i \in V_i$. Then $v_1, \dots, v_5$ form a $5$-cycle in $G$ if and only if there exists $a_i \in A$ such that $a_i = v_{i+1} - v_i \in A$ for $i = 1,\dots, 4$ and $a_5 = v_5 - v_1 \in A$. Now for such $a_i$, $\sum_{i=1}^5 a_i = 0$. Thus $5$-cycles in $G$ correspond precisely to sets of five elements in $\Z_5^n$ which sum to zero.
\paragraph{}
Now consider the trivial $5$-sums, that is those where $a,b,c,d,e \in \Z_5^n$ are such that $a+b+C+d+e=0$ but $a=b=c=d=e$. In $G$ these $5$-sums are represented by $5$-cycles of the form $u, u+a, u+2a, u+3a, u+4a$ for $u \in \Z_5^n$ and $a \in A$. All such are $5$-cycles are disjoint, as if two trivial $5$-cylces were to share an edge it would be immediate that they in fact share all edges and hence are equivalent $5$-cycles. Now $|V_1| = 5^n$. Thus there are more than $5^n \cdot \epsilon 5^n = \epsilon 5^{2n}$ trivial $5$-cycles in $G$. This count is attained by $|V_1| = 5^n$ ways to choose $u$, and $|A| > \epsilon 5^n$ ways to choose $a$. Since $n\geq n_0 \geq 1$, $\epsilon 5^{2n} \geq \epsilon n^2$. Thus there are strictly more than $\epsilon n^2$ trivial $5$-cycles in $G$.
\paragraph{}
Since there are more than $\epsilon n^2$ trivial $5$-cycles in $G$, all of which are disjoint, the size of any $F \subseteq E(G)$ such that $G-F$ is $5$-cycle free is greater than $\epsilon n^2$. Therefore $(3)$ does not hold, and thus $(2)$ holds. Therefore $G$ contains at least $\delta n^5$
\end{document}
